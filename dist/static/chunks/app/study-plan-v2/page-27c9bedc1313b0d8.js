(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{8169:(e,r,t)=>{Promise.resolve().then(t.bind(t,3133))},3133:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>L});var a=t(5155),s=t(2115),n=t(4085),i=t(6046),l=t(4206),d=t(3610),o=t(8166),c=t(7357),u=t(7028),m=t(3360),x=t(4256),f=t(1488),h=t(7668),p="Tabs",[v,b]=(0,o.A)(p,[c.RG]),g=(0,c.RG)(),[j,y]=v(p),N=s.forwardRef((e,r)=>{let{__scopeTabs:t,value:s,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:d,activationMode:o="automatic",...c}=e,u=(0,x.jH)(d),[p,v]=(0,f.i)({prop:s,onChange:n,defaultProp:i});return(0,a.jsx)(j,{scope:t,baseId:(0,h.B)(),value:p,onValueChange:v,orientation:l,dir:u,activationMode:o,children:(0,a.jsx)(m.sG.div,{dir:u,"data-orientation":l,...c,ref:r})})});N.displayName=p;var w="TabsList",k=s.forwardRef((e,r)=>{let{__scopeTabs:t,loop:s=!0,...n}=e,i=y(w,t),l=g(t);return(0,a.jsx)(c.bL,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:(0,a.jsx)(m.sG.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});k.displayName=w;var R="TabsTrigger",_=s.forwardRef((e,r)=>{let{__scopeTabs:t,value:s,disabled:n=!1,...i}=e,l=y(R,t),o=g(t),u=E(l.baseId,s),x=P(l.baseId,s),f=s===l.value;return(0,a.jsx)(c.q7,{asChild:!0,...o,focusable:!n,active:f,children:(0,a.jsx)(m.sG.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":x,"data-state":f?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...i,ref:r,onMouseDown:(0,d.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(s)}),onKeyDown:(0,d.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(s)}),onFocus:(0,d.m)(e.onFocus,()=>{let e="manual"!==l.activationMode;f||n||!e||l.onValueChange(s)})})})});_.displayName=R;var C="TabsContent",S=s.forwardRef((e,r)=>{let{__scopeTabs:t,value:n,forceMount:i,children:l,...d}=e,o=y(C,t),c=E(o.baseId,n),x=P(o.baseId,n),f=n===o.value,h=s.useRef(f);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(u.C,{present:i||f,children:t=>{let{present:s}=t;return(0,a.jsx)(m.sG.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!s,id:x,tabIndex:0,...d,ref:r,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&l})}})});function E(e,r){return"".concat(e,"-trigger-").concat(r)}function P(e,r){return"".concat(e,"-content-").concat(r)}S.displayName=C;var T=t(9602);let D=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(k,{ref:r,className:(0,T.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});D.displayName=k.displayName;let A=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(_,{ref:r,className:(0,T.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});A.displayName=_.displayName;let I=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(S,{ref:r,className:(0,T.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});I.displayName=S.displayName;let F=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,T.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});F.displayName="Card";let G=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,T.cn)("flex flex-col space-y-1.5 p-6",t),...s})});G.displayName="CardHeader";let V=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,T.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});V.displayName="CardTitle";let q=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,T.cn)("text-sm text-muted-foreground",t),...s})});q.displayName="CardDescription";let $=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,T.cn)("p-6 pt-0",t),...s})});$.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,T.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter";let z=(0,t(1027).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function O(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,T.cn)(z({variant:t}),r),...s})}function L(){let e=(0,i.useRouter)(),[r,t]=(0,s.useState)(null),[d,o]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("studyPlanRequest");if(!e){u("No request data found. Please complete the questionnaire first."),o(!1);return}x(JSON.parse(e)),(async()=>{try{let r=await fetch("/api/study-plan-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:e});if(!r.ok)throw Error("Error: ".concat(r.status," ").concat(r.statusText));let a=await r.json();t(a)}catch(e){u(e instanceof Error?e.message:"An unknown error occurred"),console.error("Error fetching study plan:",e)}finally{o(!1)}})()},[]);let f=e=>{switch(e){case"video":return"\uD83C\uDFAC";case"reading":return"\uD83D\uDCDA";case"practice":return"\uD83D\uDCBB";case"review":return"\uD83D\uDD0D";case"break":return"â˜•";default:return"\uD83D\uDCDD"}},h=e=>e&&(null==r?void 0:r.resources)?r.resources.find(r=>r.id===e):null,p=e=>{let r=Math.floor(e/60),t=e%60;return r>0?"".concat(r,"h ").concat(t>0?"".concat(t,"m"):""):"".concat(t,"m")};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Your Enhanced Study Plan"}),m&&(null==r?void 0:r.metadata)&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-100 dark:bg-gray-800 rounded-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Plan Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Subject:"})," ",r.metadata.subject]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Level:"})," ",r.metadata.level]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Interests:"})," ",Array.isArray(r.metadata.interests)?r.metadata.interests.join(", "):r.metadata.interests]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Weekly Hours:"})," ",r.metadata.weekly_hours]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total Resources Found:"})," ",r.metadata.total_resources_found]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Resources Included:"})," ",r.metadata.resources_included]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total Study Time:"})," ",p(r.metadata.total_study_time_minutes)]})]})]})]}),d&&(0,a.jsxs)("div",{className:"text-center p-8",children:[(0,a.jsx)("div",{className:"animate-pulse text-xl",children:"Generating your enhanced study plan..."}),(0,a.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"This may take a moment as we analyze resources and create your personalized schedule."})]}),c&&(0,a.jsxs)("div",{className:"p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 rounded-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Error"}),(0,a.jsx)("p",{children:c}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(n.$,{onClick:()=>e.push("/questions"),children:"Return to Questionnaire"})})]}),r&&!d&&(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 border dark:border-gray-700 rounded-md shadow-sm",children:[(0,a.jsxs)(N,{defaultValue:"schedule",children:[(0,a.jsx)("div",{className:"p-4 border-b dark:border-gray-700",children:(0,a.jsxs)(D,{className:"grid grid-cols-3",children:[(0,a.jsx)(A,{value:"schedule",children:"Daily Schedule"}),(0,a.jsx)(A,{value:"resources",children:"Resources"}),(0,a.jsx)(A,{value:"raw",children:"Raw Plan"})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)(I,{value:"schedule",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Daily Schedule"}),(null==r?void 0:r.daily_schedule)?(0,a.jsx)("div",{className:"space-y-6",children:r.daily_schedule.days.map((e,r)=>(0,a.jsxs)(F,{className:"shadow-sm",children:[(0,a.jsx)(G,{className:"bg-blue-50 dark:bg-blue-950 pb-2",children:(0,a.jsxs)(V,{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{children:[e.day,": ",e.title]}),(0,a.jsx)(O,{variant:"secondary",children:p(e.total_minutes)})]})}),(0,a.jsx)($,{className:"pt-4",children:(0,a.jsx)("div",{className:"space-y-4",children:e.activities.map((e,r)=>{let t=h(e.resource_id);return(0,a.jsx)("div",{className:"border dark:border-gray-700 rounded-md p-3",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("div",{className:"text-xl",children:f(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.title}),(0,a.jsx)(O,{variant:"outline",children:p(e.duration_minutes)})]}),e.start_time&&e.end_time&&(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:[e.start_time," - ",e.end_time]}),t&&(0,a.jsxs)("div",{className:"mt-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex gap-2 mb-1",children:[(0,a.jsx)(O,{variant:"outline",children:t.type}),(0,a.jsx)(O,{variant:"outline",children:t.difficulty})]}),(0,a.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline block mt-1 break-all",children:t.title})]})]})]})},r)})})})]},r))}):null]}),(0,a.jsxs)(I,{value:"resources",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Learning Resources"}),(null==r?void 0:r.resources)?(0,a.jsx)("div",{className:"space-y-4",children:r.resources.map((e,r)=>(0,a.jsxs)(F,{className:"shadow-sm",children:[(0,a.jsxs)(G,{className:"pb-2",children:[(0,a.jsxs)(V,{className:"flex justify-between items-center text-base",children:[(0,a.jsx)("span",{children:e.title}),(0,a.jsx)(O,{children:e.type})]}),(0,a.jsxs)(q,{className:"flex gap-2",children:[(0,a.jsx)(O,{variant:"outline",children:e.difficulty}),(0,a.jsx)(O,{variant:"outline",children:p(e.time_minutes)})]})]}),(0,a.jsxs)($,{className:"pt-2",children:[e.topics&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:Array.isArray(e.topics)?e.topics.map((e,r)=>(0,a.jsx)(O,{variant:"secondary",children:e},r)):"string"==typeof e.topics&&e.topics.split(",").map((e,r)=>(0,a.jsx)(O,{variant:"secondary",children:e.trim()},r))}),(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline block mt-1 break-all",children:e.url})]})]},r))}):null]}),(0,a.jsxs)(I,{value:"raw",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Complete Study Plan"}),(null==r?void 0:r.plan)?(0,a.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,a.jsx)(l.oz,{children:r.plan})}):null]})]})]}),(0,a.jsxs)("div",{className:"border-t dark:border-gray-700 p-4 flex justify-between",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>e.push("/questions"),children:"Back to Questionnaire"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>e.push("/learning-map"),children:"View Learning Map"}),(0,a.jsx)(n.$,{className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>window.print(),children:"Print Study Plan"})]})]})]})]})}},4085:(e,r,t)=>{"use strict";t.d(r,{$:()=>o});var a=t(5155),s=t(2115),n=t(2317),i=t(1027),l=t(9602);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(d({variant:s,size:i,className:t})),ref:r,...c})});o.displayName="Button"},9602:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(3463),s=t(9795);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},3360:(e,r,t)=>{"use strict";t.d(r,{hO:()=>d,sG:()=>l});var a=t(2115),s=t(7650),n=t(2317),i=t(5155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let t=a.forwardRef((e,t)=>{let{asChild:a,...s}=e,l=a?n.DX:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...s,ref:t})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{});function d(e,r){e&&s.flushSync(()=>e.dispatchEvent(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[345,185,934,441,517,358],()=>r(8169)),_N_E=e.O()}]);